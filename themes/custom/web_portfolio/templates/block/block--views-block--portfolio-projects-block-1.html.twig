{#
/**
 * @file
 * Theme override to display a block.
 *
 * Available variables:
 * - plugin_id: The ID of the block implementation.
 * - label: The configured label of the block if visible.
 * - configuration: A list of the block's configuration values.
 *   - label: The configured label for the block.
 *   - label_display: The display settings for the label.
 *   - provider: The module or other provider that provided this block plugin.
 *   - Block plugin specific settings will also be stored here.
 * - in_preview: Whether the plugin is being rendered in preview mode.
 * - content: The content of this block.
 * - attributes: array of HTML attributes populated by modules, intended to
 *   be added to the main container tag of this template.
 *   - id: A valid HTML ID and guaranteed unique.
 * - title_attributes: Same as attributes, except applied to the main title
 *   tag that appears in the template.
 * - title_prefix: Additional output populated by modules, intended to be
 *   displayed in front of the main title tag that appears in the template.
 * - title_suffix: Additional output populated by modules, intended to be
 *   displayed after the main title tag that appears in the template.
 *
 * @see template_preprocess_block()
 */
#}

{% block content %}

<div class="portfolio">
  <div class="filters">
    <a href="#" data-filter=".new" class="active">
        Latest
    </a>
    <a href="#" data-filter=".drupal">
        Drupal
    </a>
    <a href="#" data-filter=".laravel">
        Laravel
    </a>
    <a href="#" data-filter=".wordpress">
        WordPress
    </a>
    <a href="#" data-filter=".custom">
        Custom
    </a>     
  </div>
  <div class="portfolio-container"> 

    {% for row in content['#view'].result %}
    
        {% set fileURL = file_url(row._entity.field_image.entity.fileuri) %}
        
        {% if row._entity.field_new_project.value %}
            {% set active_class = 'new' %}
        {% else %}
            {% set active_class = '' %}
        {% endif %} 

      <div class="col-md-6 col-lg-4 {{ row._entity.field_project_type.value|lower }} {{active_class}}">
          <div class="portfolio-item">
              <img src="{{ fileURL }}" class="img-fluid" alt="{{ fileURL }}">
              <div class="content-holder">
                  <a class="img-popup" href="{{ fileURL }}"></a>
                  <div class="text-holder">
                      <h6 class="title">{{ row._entity.title.value|upper }}</h6>
                      <p class="subtitle">{{ row._entity.body.value|striptags }}</p>
                  </div>
              </div>   
          </div>             
      </div>
    {% endfor %}

    
  </div> 
</div> 

{% endblock %}


